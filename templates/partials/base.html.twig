{% set theme_config = attribute(config.themes, config.system.pages.theme) %}
<!DOCTYPE html>
<html lang="{{ grav.language.getLanguage ?: 'en' }}">
<head>
{% block head %}
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>{% if header.title %}{{ header.title|e('html') }} | {% endif %}{{ site.title|e('html') }}</title>
    {% include 'partials/metadata.html.twig' %}
    <link rel="icon" type="image/png" href="{{ url('theme://images/favicon.png') }}" />
    <link rel="canonical" href="{{ page.url(true, true) }}" />

    {% block stylesheets %}
        {% if config.system.debugger.enabled %}
            {% do assets.addCss('theme://css-compiled/owlcarousel2.css', 100) %}
            {% do assets.addCss('theme://css-compiled/font-awesome.css', 101) %}
            {% do assets.addCss('theme://css-compiled/bootstrap.css', 105) %}
            {% do assets.addCss('theme://css-compiled/whiteboard.css', 110) %}
        {% else %}
            {% do assets.addCss('theme://css-compiled/owlcarousel2.min.css', 100) %}
            {% do assets.addCss('theme://css-compiled/font-awesome.min.css', 101) %}
            {% do assets.addCss('theme://css-compiled/bootstrap.min.css', 105) %}
            {% do assets.addCss('theme://css-compiled/whiteboard.min.css', 106) %}
        {% endif %}
    {% endblock %}
    {{ assets.css() }}

    {% block javascripts %}
        {% if config.system.debugger.enabled %}
            {% do assets.addJs('theme://js-compiled/typed.js', 101) %}
            {% do assets.addJs('theme://js-compiled/particles.js', 102) %}
            {% do assets.addJs('theme://js-compiled/owlcarousel2.js', 103) %}
            {% do assets.addJs('theme://js-compiled/bootstrap.js', 105) %}
            {% do assets.addJs('theme://js-compiled/tether.min.js', 106) %}
        {% else %}
            {% do assets.addJs('theme://js-compiled/typed.min.js', 101) %}
            {% do assets.addJs('theme://js-compiled/particles.min.js', 102) %}
            {% do assets.addJs('theme://js-compiled/owlcarousel2.min.js', 103) %}
            {% do assets.addJs('theme://js-compiled/bootstrap.min.js', 105) %}
            {% do assets.addJs('theme://js-compiled/tether.min.js', 106) %}
        {% endif %}
        {% do assets.addJs('jquery', 110) %}
    {% endblock %}
    {{ assets.js() }}
{% endblock head %}
</head>

{% set classes = 'theme-' ~ config.system.pages.theme %}

{% set classes = classes ~ ' page-' ~ page.slug %}

{% if page.header.body_classes %}
    {% set classes = classes ~ ' ' ~ page.header.body_classes %}
{% endif %}

<body class="{{ classes }}">
    {% block header %}
        <header id="header" class="fixed-top">
            {% block navigation %}
                {% set vars = {
                    'class': { 'toggleable': "md", 'theme': 'inverse', 'style': 'inverse' }
                } %}
                {% include 'bootstrap/navbar.html.twig' with vars %}
            {% endblock %}
        </header>
    {% endblock %}

    {% block main %}
        <main class="main">
            {% block sidebar %}{% endblock %}
            {% block content %}{% endblock %}
        </main>
    {% endblock %}

    {% block footer %}
        <footer id="footer">
            <div class="totop">
                <span><a href="#" id="toTop"><i class="fa fa-arrow-up"></i></a></span>
            </div>
        </footer>
    {% endblock %}

</body>
</html>
